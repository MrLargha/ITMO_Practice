# Лабораторная работа 3

1. Идем устанавливать minikube, устанавливать будем на VDS с драйвером виртуализации kvm + qemu
2. В процессе работы понимаем что у нас 1 ядро ЦПУ, а для запуска нужно минимум 2, достаем кошелек, грустно вздыхаем и идем арендовывать тариф пожирнее. 
3. ![screenshot](Pasted%20image%2020241112000947.png)узнаем что ему нужно 2гб озу, идем снова платить за конфигурацию с 4гб
4. ![screenshot](Pasted%20image%2020241112010604.png) Волшебное прикосновение кредитки и кое-как оно запустилось
5. ![screenshot](Pasted%20image%2020241112010927.png)Выполняем предложенную команду, так как kubectl нам наверное еще пригодится
6. ![screenshot](Pasted%20image%2020241112030515.png)Собираем образ с нашим бедным проектом использую окружение докера из minikube
7. ![screenshot](Pasted%20image%2020241112030642.png) Видим наш образ okno в списке контейнеров из под окружения minikube
8. Создаем yaml файл с описанием сервиса под наш проект
   ![screenshot](Pasted%20image%2020241112032029.png)
9. Теперь напишем деплоймент![screenshot](Pasted%20image%2020241112032103.png)
10. ![screenshot](Pasted%20image%2020241112034217.png)разворачиваем наш проект
11. Осознаем что у нас ничего не заработало, в get pods высвечивается `ErrImageNeverPull`. Идем разбираться в том что же у нас случилось и находим решение - ручка подтянуть образ командой `minikube image load okno`
12. ![screenshot](Pasted%20image%2020241112140422.png) Кажется сработало
13. ![screenshot](Pasted%20image%2020241112140546.png)тут видно что контейнер работает, там запустился какой-то nginx, успешно отвечающий на запросы, теперь надо понять почему там нет нашего сайта
14. ![screenshot](Pasted%20image%2020241112162929.png) 450 автоматических перезапусков контейнера спустя (и 5 пересборок докер контейнера) наш контейнер возвращает то что нужно (кусок нашего сайта)
15. Радуемся результату (потом надо сделать маппинг портов, но в этот раз)
